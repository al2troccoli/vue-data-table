(function(e){function t(t){for(var a,l,i=t[0],o=t[1],c=t[2],d=0,p=[];d<i.length;d++)l=i[d],r[l]&&p.push(r[l][0]),r[l]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,i=1;i<s.length;i++){var o=s[i];0!==r[o]&&(a=!1)}a&&(n.splice(t--,1),e=l(l.s=s[0]))}return e}var a={},r={app:0},n=[];function l(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=e,l.c=a,l.d=function(e,t,s){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(s,a,function(t){return e[t]}.bind(null,a));return s},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/vue-data-table/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=o;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0796":function(e,t,s){},2452:function(e,t,s){e.exports=s.p+"img/icon.b358ed06.svg"},2897:function(e,t,s){e.exports=s.p+"img/preloader.651facce.gif"},"2a07":function(e,t,s){e.exports=s.p+"img/monkey.ce5c89af.png"},3632:function(e,t,s){},"36ab":function(e,t,s){"use strict";var a=s("572c"),r=s.n(a);r.a},"3c61":function(e,t,s){},"47b7":function(e,t,s){"use strict";var a=s("e28a"),r=s.n(a);r.a},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("transition",{attrs:{name:"slide-fade"}},[s("Grid",{attrs:{"has-footer":!1,"has-right-col":!1,"right-col-has-slide":!0},scopedSlots:e._u([{key:"header",fn:function(){return[s("Header")]},proxy:!0},{key:"main",fn:function(){return[s("transition",{attrs:{name:"slide-fade",mode:"out-in"}},["error"===e.appStatus?s("ErrorMessage"):"success"===e.appStatus?s("span",{staticClass:"al2-main__group"},[s("DataTable",{attrs:{"table-name":e.title,"columns-array":["term","serial_number","organization","price","status"],"global-selected-asset":e.currentSelectedAssetIndex,"assets-array":e.assets}}),"success"===e.appStatus?s("SidePanel",{attrs:{"is-at-right-side":!0}},[s("AssetsForm")],1):e._e()],1):e._e(),"pending"===e.appStatus?s("Preloader"):e._e()],1)]},proxy:!0}])})],1)],1)},n=[],l=s("cebc"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"al2-dataTable",class:[e.tableStatus]},[e.tableName?s("h2",{staticClass:"al2-dataTable__title"},[e._v(e._s(e.tableName))]):e._e(),s("table",{staticClass:"al2-dataTable__table"},[s("thead",{staticClass:"al2-dataTable__thead"},[s("tr",e._l(e.columnsArray,function(t){return s("th",{key:t,staticClass:"al2-dataTable__th",on:{click:function(s){return e.sortBy(t)}}},[s("span",[e._v(e._s(t))])])}),0)]),s("tbody",{staticClass:"al2-dataTable__tbody"},e._l(e.filteredAssets,function(t,a){return s("tr",{key:t.id,staticClass:"al2-dataTable__tr",class:[{"al2-dataTable__tr--selected":a===e.currentSelectedRow}],on:{click:function(t){e.selectRow(a)}}},[s("td",{staticClass:"al2-dataTable__td"},[s("span",{staticClass:"al2-dataTable__responsive-label"},[e._v("Terms")]),s("span",[e._v(e._s(t.term))])]),s("td",{staticClass:"al2-dataTable__td"},[s("span",{staticClass:"al2-dataTable__responsive-label"},[e._v("Serial number")]),s("span",[e._v(e._s(t.serial_number))])]),s("td",{staticClass:"al2-dataTable__td"},[s("span",{staticClass:"al2-dataTable__responsive-label"},[e._v("Organisation")]),s("span",[e._v(e._s(t.organization))])]),s("td",{staticClass:"al2-dataTable__td"},[s("span",{staticClass:"al2-dataTable__responsive-label"},[e._v("Price")]),s("span",[e._v(e._s(t.price+e.getCurrency()))])]),s("td",{staticClass:"al2-dataTable__td al2-dataTable__td--flex-row-mobile"},[s("span",{staticClass:"al2-dataTable__responsive-label"},[e._v("Status")]),t.status?s("span",{staticClass:"al2-dataTable__status-green"}):s("span",{staticClass:"al2-dataTable__status-red"})])])}),0)])])},o=[],c=(s("6b54"),s("55dd"),s("ac6a"),s("c5f6"),s("2f62")),u={name:"DataTable",props:{tableName:String,columnsArray:Array,assetsArray:Array,globalSelectedAsset:Number},data:function(){var e={};return this.columnsArray.forEach(function(t){e[t]=1}),{currentSelectedRow:null,sortKey:"",sortOrders:e,lastAssetID:null}},computed:Object(l["a"])({},Object(c["d"])(["currentSelectedAssetIndex"]),{tableStatus:function(){return{"al2-dataTable--disabled-mobile":null!==this.globalSelectedAsset}},filteredAssets:function(){var e=this.sortKey,t=this.sortOrders[e]||1,s=this.assetsArray;return e&&(s=s.slice().sort(function(s,a){return s=s[e].toString().toLowerCase(),a=a[e].toString().toLowerCase(),(s===a?0:s>a?1:-1)*t})),this.updateFilteredAssetsArray(s),s}}),filters:{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},methods:Object(l["a"])({},Object(c["c"])(["updateFilteredAssetsArray"]),Object(c["b"])(["getCurrency"]),{sortBy:function(e){this.sortKey=e,this.sortOrders[e]=-1*this.sortOrders[e]},selectRow:function(e){this.currentSelectedRow=e,this.$store.dispatch("updateSelectedAssetIndex",e)}})},d=u,p=(s("bff1"),s("2877")),f=Object(p["a"])(d,i,o,!1,null,"c12b189c",null),m=f.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"al2-sidePanel__overlay",class:[e.panelState]},[s("div",{staticClass:"al2-sidePanel",class:[e.showPanel,e.setUpPanel]},[s("div",{staticClass:"al2-sidePanel__close-btn",on:{click:e.closePanel}},[e._v(" X")]),e._t("default")],2)])},b=[],v={name:"SidePanel",props:{isAtRightSide:Boolean},computed:Object(l["a"])({},Object(c["d"])(["currentSelectedAssetIndex"]),{showPanel:function(){return{"al2-sidePanel--active":null!==this.currentSelectedAssetIndex}},setUpPanel:function(){return{" al2-sidePanel--at-right":this.isAtRightSide}},panelState:function(){return{"al2-sidePanel__overlay--active":null!==this.currentSelectedAssetIndex}}}),methods:{closePanel:function(){this.$store.dispatch("resetSelectedAssetIndex")}}},g=v,h=(s("ae07"),Object(p["a"])(g,_,b,!1,null,"aadb250a",null)),x=h.exports,A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"al2-header"},[e._m(0),s("transition",{attrs:{name:"slide-fade"}},["success"===e.appStatus?s("Login",{staticClass:"al2-header__login",attrs:{"avatar-image":e.user.avatar}}):e._e()],1)],1)},C=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",{staticClass:"al2-header__title"},[a("a",{attrs:{href:"https://www.minsait.com/es/productos/platform",target:"_blank"}},[a("img",{attrs:{src:s("b351"),alt:"onesait"}})])])}],S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"al2-login"},[a("span",{staticClass:"al2-login__last-log"},[e._v("last login: 22/08/17 - 16:42")]),a("div",{staticClass:"al2-login__profile"},[a("img",{attrs:{src:s("5a8f")("./"+e.avatarImage),alt:"My default image"}})])])},y=[],F={name:"Login",data:function(){return{}},props:{avatarImage:String}},I=F,O=(s("ebc4"),Object(p["a"])(I,S,y,!1,null,"debf45fc",null)),w=O.exports,j={name:"Header",components:{Login:w},computed:Object(l["a"])({},Object(c["d"])(["appStatus","user"]))},P=j,T=(s("36ab"),Object(p["a"])(P,A,C,!1,null,"389cf7e8",null)),$=T.exports,k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return void 0!==e.assetsFiltered[e.currentSelectedAssetIndex]?s("div",{staticClass:"al2-assetsForm"},[e._m(0),s("div",{staticClass:"al2-assetsForm__status",on:{click:e.toggleState}},[e.assetsFiltered[e.currentSelectedAssetIndex].status?s("div",{staticClass:"al2-assetsForm__status--enabled"},[e._v("\n            Enabled\n        ")]):s("div",{staticClass:"al2-assetsForm__status--disabled"},[e._v("Disabled")])]),s("form",{staticClass:"al2-assetsForm__form",on:{submit:function(e){e.preventDefault()}}},[s("div",{staticClass:"al2-assetsForm__form-group"},[s("label",{staticClass:"al2-assetsForm__label",attrs:{for:"term"}},[e._v("Term")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.assetsFiltered[e.currentSelectedAssetIndex].term,expression:"assetsFiltered[currentSelectedAssetIndex].term"}],staticClass:"al2-assetsForm__textinput",attrs:{type:"text",id:"term"},domProps:{value:e.assetsFiltered[e.currentSelectedAssetIndex].term},on:{input:function(t){t.target.composing||e.$set(e.assetsFiltered[e.currentSelectedAssetIndex],"term",t.target.value)}}})]),s("div",{staticClass:"al2-assetsForm__form-group"},[s("label",{staticClass:"al2-assetsForm__label",attrs:{for:"serial_number"}},[e._v("Serial number")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.assetsFiltered[e.currentSelectedAssetIndex].serial_number,expression:"assetsFiltered[currentSelectedAssetIndex].serial_number"}],staticClass:"al2-assetsForm__textinput",attrs:{type:"text",id:"serial_number"},domProps:{value:e.assetsFiltered[e.currentSelectedAssetIndex].serial_number},on:{input:function(t){t.target.composing||e.$set(e.assetsFiltered[e.currentSelectedAssetIndex],"serial_number",t.target.value)}}})]),s("div",{staticClass:"al2-assetsForm__form-group"},[s("label",{staticClass:"al2-assetsForm__label",attrs:{for:"description"}},[e._v("Description")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.assetsFiltered[e.currentSelectedAssetIndex].description,expression:"assetsFiltered[currentSelectedAssetIndex].description"}],staticClass:"al2-assetsForm__textarea",attrs:{type:"text",id:"description"},domProps:{value:e.assetsFiltered[e.currentSelectedAssetIndex].description},on:{input:function(t){t.target.composing||e.$set(e.assetsFiltered[e.currentSelectedAssetIndex],"description",t.target.value)}}})]),s("div",{staticClass:"al2-assetsForm__form-group"},[s("label",{staticClass:"al2-assetsForm__label",attrs:{for:"organisation"}},[e._v("Organisation")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.assetsFiltered[e.currentSelectedAssetIndex].organization,expression:"assetsFiltered[currentSelectedAssetIndex].organization"}],staticClass:"al2-assetsForm__textinput",attrs:{type:"text",id:"organisation"},domProps:{value:e.assetsFiltered[e.currentSelectedAssetIndex].organization},on:{input:function(t){t.target.composing||e.$set(e.assetsFiltered[e.currentSelectedAssetIndex],"organization",t.target.value)}}})]),s("div",{staticClass:"al2-assetsForm__form-group"},[s("label",{staticClass:"al2-assetsForm__label",attrs:{for:"price"}},[e._v("Price in "+e._s(e.getCurrency()))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.assetsFiltered[e.currentSelectedAssetIndex].price,expression:"assetsFiltered[currentSelectedAssetIndex].price"}],staticClass:"al2-assetsForm__textinput",attrs:{type:"number",id:"price"},domProps:{value:e.assetsFiltered[e.currentSelectedAssetIndex].price},on:{input:function(t){t.target.composing||e.$set(e.assetsFiltered[e.currentSelectedAssetIndex],"price",t.target.value)}}})]),s("div",{staticClass:"al2-assetsForm__form-group al2-assetsForm__form-group--sticky"},[s("input",{staticClass:"al2-assetsForm__button al2-button al2-button--rounded al2-button--red",attrs:{type:"button",value:"Delete Asset"},on:{click:e.deleteCurrentAsset}}),s("input",{staticClass:"al2-assetsForm__button al2-button al2-button--rounded al2-button--blue",attrs:{type:"button",value:"Save changes"},on:{click:e.updateAsset}})])])]):e._e()},E=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"al2-assetsForm__icon-container"},[a("img",{attrs:{src:s("2452"),alt:"asset name"}})])}],R={name:"AssetsForm",data:function(){return{currentSelectedRow:null}},props:{isAtRightSide:Boolean},computed:Object(l["a"])({},Object(c["d"])(["assetsFiltered","currentSelectedAssetIndex"])),methods:Object(l["a"])({},Object(c["b"])(["getCurrency"]),{toggleState:function(){this.assetsFiltered[this.currentSelectedAssetIndex].status=!this.assetsFiltered[this.currentSelectedAssetIndex].status},deleteCurrentAsset:function(){this.$store.dispatch("deleteAsset",this.assetsFiltered[this.currentSelectedAssetIndex])},updateAsset:function(){this.$store.dispatch("updateAsset",this.assetsFiltered[this.currentSelectedAssetIndex])}})},N=R,D=(s("b8f2"),Object(p["a"])(N,k,E,!1,null,"5bb6a914",null)),M=D.exports,B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"al2-grid",class:[e.removeFooter,e.applyRighttCol]},[s("header",{staticClass:"al2-grid__header al2-grid__header--fixed"},[e._t("header")],2),s("main",{staticClass:"al2-grid__main",class:[e.removeOverflow]},[e._t("main")],2),e.hasRightCol?s("div",{staticClass:"al2-grid__right-col"},[e._t("right-col")],2):e._e(),e.hasFooter?s("footer",{staticClass:"al2-grid__footer"},[e._t("footer")],2):e._e()])},z=[],L={name:"Grid",data:function(){return{currentSelectedRow:null}},props:{hasFooter:Boolean,hasRightCol:Boolean,rightColHasSlide:Boolean,headerIsFixed:Boolean},computed:Object(l["a"])({},Object(c["d"])(["currentSelectedAssetIndex"]),{applyRighttCol:function(){return{"al2-grid--right-col-layout":this.hasRightCol}},removeFooter:function(){return{"al2-grid--footerless":!this.hasFooter}},removeOverflow:function(){return{"al2-overflow-hidden-mobile-and-tablet-portrait ":null!==this.currentSelectedAssetIndex}}}),methods:{preventScroll:function(e){e.preventDefault(),e.stopPropagation()}},created:function(){}},U=L,H=(s("5f2c"),Object(p["a"])(U,B,z,!1,null,"10a503d8",null)),G=H.exports,K=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},J=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"al2-preloader"},[a("img",{staticClass:"al2-preloader__animated-img",attrs:{src:s("2897"),alt:"loading..."}}),a("img",{staticClass:"al2-preloader__logo-img",attrs:{src:s("b351"),alt:"onesait"}})])}],X={name:"Preloader"},q=X,Q=(s("b9d9"),Object(p["a"])(q,K,J,!1,null,"ce8c34ae",null)),V=Q.exports,W=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"al2-error"},[a("div",{staticClass:"al2-error__img-container"},[a("img",{staticClass:"al2-error__img",attrs:{src:s("2a07"),alt:"loading..."}})]),a("hr"),a("div",{staticClass:"al2-error__message"},[a("p",[e._v("Sorry, it seems like we couldn't find any database ! ")]),a("p",[e._v("Start json-server in order to get some data. Run the following command in your temrinal:")]),a("code",{staticClass:"al2-error__code"},[e._v(" json-server --watch data/collections.json")])])])}],Z={name:"ErrorMessage"},ee=Z,te=(s("a42b"),Object(p["a"])(ee,W,Y,!1,null,"ba30a2e6",null)),se=te.exports,ae={name:"app",data:function(){return{show:!0}},computed:Object(l["a"])({},Object(c["d"])(["appStatus","assets","title","currentSelectedAssetIndex"])),methods:{},components:{ErrorMessage:se,AssetsForm:M,SidePanel:x,DataTable:m,Header:$,Grid:G,Preloader:V},mounted:function(){this.$store.dispatch("fetchCollections")}},re=ae,ne=(s("47b7"),Object(p["a"])(re,r,n,!1,null,"2b66a029",null)),le=ne.exports,ie=(s("96cf"),s("3b8d")),oe=s("bc3a"),ce=s.n(oe),ue=s("a7fe"),de=s.n(ue);a["a"].use(c["a"]),a["a"].use(de.a,ce.a);var pe=new c["a"].Store({state:{appStatus:"pending",assets:[],assetsFiltered:[],user:{},title:"",currency:"",currentSelectedAssetIndex:null},mutations:{updateCurrentAssetIndex:function(e,t){e.currentSelectedAssetIndex=t},resetCurrentAssetIndex:function(e){e.currentSelectedAssetIndex=null},updateFilteredAssetsArray:function(e,t){e.assetsFiltered=t},setCollections:function(e,t){e.assets=t.assets,e.title=t.title.title,e.columnsNames=t.columns,e.currency=t.currency.currency,e.user=t.user},setAppStatus:function(e,t){e.appStatus=t},setAssetsArray:function(e,t){e.assets=t},removeAsset:function(e,t){e.assets.splice(e.assets.indexOf(t),1),a["a"].axios.delete("http://localhost:3000/assets/".concat(t.id))},putAsset:function(e,t){a["a"].axios.put("http://localhost:3000/assets/".concat(t.id),t)}},getters:{getCurrency:function(e){return"EUR"===e.currency?"€":"$"}},actions:{fetchCollections:function(){var e=Object(ie["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,a["a"].axios.get("http://localhost:3000/db").then(function(e){return s("setCollections",e.data)});case 4:setTimeout(function(){s("setAppStatus","success")},2e3),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](1),console.error(e.t0),s("setAppStatus","error");case 11:case"end":return e.stop()}},e,null,[[1,7]])}));function t(t){return e.apply(this,arguments)}return t}(),updateAssetsArray:function(e,t){var s=e.commit;s("setAssetsArray",t)},deleteAsset:function(e,t){var s=e.commit;s("removeAsset",t),s("resetCurrentAssetIndex")},updateAsset:function(e,t){var s=e.commit;s("putAsset",t)},updateSelectedAssetIndex:function(e,t){var s=e.commit;s("updateCurrentAssetIndex",t)},resetSelectedAssetIndex:function(e){var t=e.commit;t("resetCurrentAssetIndex")}}});s("3c61"),a["a"].config.productionTip=!1,new a["a"]({store:pe,render:function(e){return e(le)}}).$mount("#app")},"572c":function(e,t,s){},"5a8f":function(e,t,s){var a={"./avatar-img.png":"6c2f","./avatar-img@2x.png":"7c97","./avatar-img@3x.png":"ac88"};function r(e){var t=n(e);return s(t)}function n(e){var t=a[e];if(!(t+1)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id="5a8f"},"5f2c":function(e,t,s){"use strict";var a=s("92e4"),r=s.n(a);r.a},6806:function(e,t,s){},"6c2f":function(e,t,s){e.exports=s.p+"img/avatar-img.d656b95c.png"},"7c97":function(e,t,s){e.exports=s.p+"img/avatar-img@2x.8833ee5b.png"},"92e4":function(e,t,s){},"9fa1":function(e,t,s){},a42b:function(e,t,s){"use strict";var a=s("9fa1"),r=s.n(a);r.a},a7b3:function(e,t,s){},ac04:function(e,t,s){},ac88:function(e,t,s){e.exports=s.p+"img/avatar-img@3x.c41a3b29.png"},ae07:function(e,t,s){"use strict";var a=s("0796"),r=s.n(a);r.a},b351:function(e,t,s){e.exports=s.p+"img/onesait.457e2357.svg"},b8f2:function(e,t,s){"use strict";var a=s("a7b3"),r=s.n(a);r.a},b9d9:function(e,t,s){"use strict";var a=s("3632"),r=s.n(a);r.a},bff1:function(e,t,s){"use strict";var a=s("6806"),r=s.n(a);r.a},e28a:function(e,t,s){},ebc4:function(e,t,s){"use strict";var a=s("ac04"),r=s.n(a);r.a}});
//# sourceMappingURL=app.aee94a5c.js.map